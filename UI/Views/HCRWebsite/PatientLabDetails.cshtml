@model PatientLabViewModel

@{
    ViewBag.Title = "Patient Analysis Details";
    Layout = "/Views/Shared/Layout/HCRWebsiteLayout.cshtml";
}
@using Microsoft.AspNetCore.Mvc.Localization
@inject IViewLocalizer Localizer
@inject BLL.Services.PatientLabServices.IPatientLabServices GetData
<div id="breadcrumb" class="division">
    <div class="container">
        <div class="row">
            <div class="col">
                <div class=" breadcrumb-holder">

                    <!-- Breadcrumb Nav -->
                    <nav aria-label="breadcrumb">
                        <ol class="breadcrumb">
                            <li class="breadcrumb-item"><a asp-action="Home" asp-controller="HCRWebsite">Home</a></li>
                            <li class="breadcrumb-item active"><a asp-action="PatientProfile"
                                    asp-controller="HCRWebsite" asp-route-Id="@Model.Id">Profile</a></li>
                            <li class="breadcrumb-item active"><a onclick="history.back()">All Patient Radiology</a>
                            </li>
                            <li class="breadcrumb-item active" aria-current="page">Analysis Details</li>
                        </ol>
                    </nav>

                    <!-- Title -->
                    <h4 class="h4-sm steelblue-color">Analysis Details</h4>

                </div>
            </div>
        </div> <!-- End row -->
    </div> <!-- End container -->
</div>
<section id="about-6" class="pt-100 about-section division">
    <div class="container">
        <div class="row d-flex align-items-center mb-3 mt-3">


            <!-- TEXT BLOCK -->
            <div class="col-lg-6">
                <div class="txt-block pc-30 wow fadeInUp" data-wow-delay="0.4s">

                    <!-- Section ID -->
                    <!-- Title -->
                    <h3 class="h3-md steelblue-color"> Patient Analysis Details</h3>
                    <!-- CONTENT BOX #1 -->
                    <div class="box-list m-top-15">
                        <div class="box-list-icon Analysis"><i class="fa fa-x-ray"></i></div>
                        <p>
                            <span>Radiology Name</span> : @Model.LapName
                        </p>
                    </div>

                    <!-- CONTENT BOX #2 -->
                    <div class="box-list">
                        <div class="box-list-icon Analysis"><i class="fas fa-user-md"></i></div>
                        <p>
                            <span>Radiology Doctor Name</span> : @Model.DoctorNamework
                        </p>
                    </div>

                    <!-- CONTENT BOX #3 -->
                    <div class="box-list">
                        <div class="box-list-icon Analysis"><i class="fas fa-calendar-alt"></i></div>
                        <p>
                            <span> Date And Time</span> : @Model.DateAndTime
                        </p>
                    </div>


                    <!-- Button -->
                    @*Radiology Document report*@
                    <div class="col-sm-12 ">
                        <!-- Button trigger modal -->
                        <button type="button" class="btn btn-tra-white blue-hover mt-3 w-100 fs-6"
                            data-bs-toggle="modal" data-bs-target="#Document">
                            View Analysis Document Report
                        </button>

                        <!-- Modal -->
                        <!-- Modal -->
                        <div class="modal fade" id="Document" tabindex="-1" aria-labelledby="DocumentModalLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" style="color:black" id="DocumentModalLabel">Analysis
                                            Document Report</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <iframe class="w-100" style="height: 400px;"
                                            src="~/Files/LabResults/Documents/@Model.Document"></iframe>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    @*Radiology Photo report*@

                    <div class="col-sm-12 ">
                        <!-- Button trigger modal -->
                        <button type="button" class="btn btn-tra-white blue-hover mt-3 w-100 fs-6"
                            data-bs-toggle="modal" data-bs-target="#photo">
                            View Analysis Photo Report
                        </button>


                        <!-- Modal -->
                        <div class="modal fade" id="photo" tabindex="-1" aria-labelledby="exampleModalLabel"
                            aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" style="color:black" id="exampleModalLabel">Analysis
                                            Photo Report</h5>
                                        <button type="button" class="btn-close" data-bs-dismiss="modal"
                                            aria-label="Close"></button>
                                    </div>
                                    <div class="modal-body">
                                        <iframe class="w-100" style="height: 400px;"
                                            src="~/Files/LabResults/Photos/@Model.Photo"></iframe>
                                    </div>
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-secondary"
                                            data-bs-dismiss="modal">Close</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>

                </div>
            </div> <!-- END TEXT BLOCK -->
            <!-- IMAGE BLOCK -->
            <div class="col-lg-6">
                <div class="about-img text-center wow fadeInUp" data-wow-delay="0.6s">
                    <img class="img-fluid" src="~/website/images/analysis2.jpg" alt="about-image">
                </div>
            </div>

        </div> <!-- End row -->
    </div> <!-- End container -->
</section>



<!-- /.content -->
<script>
    // to add row of newradiology
    let radiology = document.getElementById('radiology');




    onclick = () => {
        more = document.querySelectorAll('.more');

        let newradiology = document.createElement('div');
        newradiology.classList.add('row')

        // creat new newradiology
        newradiology.innerHTML =
            ' <div class="col-md-6 col-sm-12  mb-3">' +
            '<div class="alert alert-warning alert-dismissible fade show m-auto mb-1 d-none"role="alert">You should check in on some of those fields below.' +
            '<button type="button" class="btn-close" data-bs-dismiss="alert"aria-label="Close"></button>' +
            ' </div>' +
            '<div class="form-floating mt-3">' +
            '  <select class="form-select form-control form-control show-tick input"placeholder="radiology">' +
            '  <option selected>- radiology -</option>' +
            '<option value="radiology"> radiology </option>' +
            ' <option value="radiology"> radiology</option>' +
            '  </select>' +
            '  <label for="radiology">- radiology -</label>' +
            '  </div>' +
            '</div>' +
            '<div class="col-11 col-sm-11 col-md-5  mb-3">' +
            ' <div class="alert alert-warning alert-dismissible fade show m-auto mb-1 d-none"role="alert">You should check in on some of those fields below.' +
            ' <button type="button" class="btn-close" data-bs-dismiss="alert"aria-label="Close"></button>' +
            '</div>' +
            ' <div class="form-floating mt-3">' +
            ' <select class="form-select form-control form-control show-tick input"placeholder="price ">' +
            ' <option selected>- price -</option>' +
            ' <option value="30"> 30 </option>' +
            '  <option value="33"> 33</option>' +
            '    </select>' +
            ' <label for=" price">- price -</label>' +
            '   </div>' +
            '  </div>' +
            ' <div class="col-1 col-sm-1 col-md-1  mb-4">' +
            '  <button type="button" class="btn btn-primary mt-4 more">+</button>' +
            '</div>'

        for (let i = 0; i < more.length; i++) {
            more[i].addEventListener('click', () => {
                radiology.appendChild(newradiology)
            })
        }
    }



</script>
<!-- jQuery -->
<script src="~/receptionist dashbord/plugins/jquery/jquery.min.js"></script>
<!-- Bootstrap 4 -->
<script src="~/receptionist dashbord/plugins/bootstrap/js/bootstrap.bundle.min.js"></script>

<script src="~/receptionist dashbord/dist/js/adminlte.min.js"></script>
<!-- AdminLTE for demo purposes -->
<script src="~/receptionist dashbord/dist/js/demo.js"></script>
